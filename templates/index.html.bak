<input type="text" name="movie" id="movieInput" placeholder="Enter movie name..." required>
<div id="suggestions" style="background:white; color:black; width:300px; margin:auto; border-radius:8px; position:relative;"></div>

<script>
  const input = document.getElementById('movieInput');
  const suggestionsDiv = document.getElementById('suggestions');

  input.addEventListener('input', async () => {
    const query = input.value.trim();
    if (!query) {
      suggestionsDiv.innerHTML = '';
      return;
    }

    const response = await fetch(`/suggest?q=${query}`);
    const suggestions = await response.json();

    if (suggestions.length > 0) {
      suggestionsDiv.innerHTML = suggestions.map(movie =>
        `<div style="padding:5px; cursor:pointer;" onclick="selectMovie('${movie}')">${movie}</div>`
      ).join('');
    } else {
      suggestionsDiv.innerHTML = '';
    }
  });

  function selectMovie(movie) {
    input.value = movie;
    suggestionsDiv.innerHTML = '';
  }
</script>
